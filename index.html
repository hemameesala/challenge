<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Workout Posture Detection</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f4f6f9;
    }

    header {
      background-color: #2d3436;
      color: white;
      padding: 20px;
      text-align: center;
    }

    main {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      padding: 20px;
    }

    .video-container, .guidance-container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 45%;
    }

    video {
      width: 100%;
      border-radius: 10px;
    }

    .guidance {
      margin-top: 20px;
      font-size: 18px;
      color: #2d3436;
    }

    footer {
      text-align: center;
      padding: 15px;
      background: #2d3436;
      color: white;
      position: fixed;
      bottom: 0;
      width: 100%;
    }

    button {
      padding: 10px 20px;
      margin-top: 10px;
      background-color: #0984e3;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #74b9ff;
    }
  </style>
</head>
<body>
  <header>
    <h1>Smart Workout Posture Detection & Guidance</h1>
  </header>

  <main>
    <div class="video-container">
      <h2>Live Camera</h2>
      <video id="webcam" autoplay playsinline muted></video>
      <button onclick="startDetection()">Start Posture Detection</button>
    </div>

    <div class="guidance-container">
      <h2>Posture Guidance</h2>
      <div id="guidance" class="guidance">
        Press "Start" to begin analyzing your workout posture.
      </div>
    </div>
  </main>

  <footer>
    &copy; 2025 SmartFit AI | All Rights Reserved
  </footer>

  <script>
    const video = document.getElementById('webcam');
    const guidance = document.getElementById('guidance');

    async function setupCamera() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { width: 640, height: 480 },
          audio: false
        });
        video.srcObject = stream;
      } catch (err) {
        alert('Error accessing webcam: ' + err);
      }
    }

    function startDetection() {
      guidance.innerHTML = "Analyzing posture...";

      // Simulate pose detection feedback
      setTimeout(() => {
        const randomPostures = [
          "Great form! Keep it up ðŸ’ª",
          "Your back is slightly bent. Try to keep it straight.",
          "Feet too close. Widen your stance.",
          "Arms not fully extended.",
          "Posture perfect for squats!",
          "Keep your head aligned with your spine."
        ];
        const index = Math.floor(Math.random() * randomPostures.length);
        guidance.innerHTML = randomPostures[index];
      }, 3000);
    }

    // Initialize
    setupCamera();
  </script>
</body>
</html>
